@using EmployeeTrainingTracker.Data.Models
@model IEnumerable<Training>
@{
    Layout = null;
    bool forMarking = (bool)ViewBag.ForMarking;
}

<table id="trainingTable" class="table table-bordered table-striped">
    <thead class="thead-dark">
        <tr>
            <th>Id</th>
            <th>Name</th>
            <th>Date</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var training in Model)
        {
            <tr>
                <td>@training.Id</td>
                <td>@training.Name</td>
                <td>@training.Date.ToString("d MMM yyyy")</td>
                @if (forMarking)
                {
                    <td>
                        <button class="btn btn-primary mr-3" type="button" onclick="loadViewEmployees('@training.Id');">View Employees</button>
                    </td>
                }
                else
                {
                    <td>
                        <button class="btn btn-warning mr-3" type="button" onclick="loadEditTraining('@training.Id');">Edit</button>
                        <button class="btn btn-danger" type="button" onclick="loadDeleteTraining('@training.Id');">Delete</button>
                    </td>
                }
            </tr>
        }
    </tbody>
</table>
